CASE
		
	WHEN
		DOC_ASN_HEADER.warehouseId IN (  'BASF02' ) THEN
SUBSTRING('@WXT_SKU_3@', 1, 8)
ELSE
TSK_TASKLISTS.SKU  END AS @WXT_SKU_3@,



SELECT TSK_TASKLISTS.ALLOCATIONDETAILSID AS @HIDE_ALLOCATIONDETAILSID@,
TSK_TASKLISTS.TASKID AS @HIDE_TASKID@,
TSK_TASKLISTS.TASKID_SEQUENCE AS @HIDE_TASKID_SEQUENCE@,
TSK_TASKLISTS.DOCNO AS @HIDE_DOCNO@,
TSK_TASKLISTS.DOCTYPE,
TSK_TASKLISTS.DOCLINENO AS @HIDE_DOCLINENO@,
TSK_TASKLISTS.FMLOCATION AS @WXT_FMLOCATION_3@,
TSK_TASKLISTS.FMLOCATION AS @HIDE_FMLOCATION@,
TSK_TASKLISTS.FMID AS @HIDE_FMID@,
TSK_TASKLISTS.FMID AS @WXT_FMTRACEID_3@,
TSK_TASKLISTS.SKU AS @WXT_SKU_3@,
TSK_TASKLISTS.CUSTOMERID AS @HIDE_CUSTOMERID@,
TSK_TASKLISTS.FMPACKID AS @HIDE_FMPACKID@,
TSK_TASKLISTS.FMQTY AS @WXT_QTY_6@,
TSK_TASKLISTS.FMQTY AS @TXT_QTY_6@,
TSK_TASKLISTS.FMQTY AS @HIDE_FMQTY1@,
TSK_TASKLISTS.FMQTY_EACH AS @HIDE_FMQTY_EACH @,
TSK_TASKLISTS.FMUOM AS @HIDE_FMUOM@,
TSK_TASKLISTS.PLANTOLOCATION AS @TXT_TOLOCATION_6@,
TSK_TASKLISTS.PLANTOLOCATION AS @HIDE_PLANTOLOCATION@,
TSK_TASKLISTS.FMLOTNUM AS @HIDE_LOTNUM_3@,
TSK_TASKLISTS.LOTATT01 AS @HIDE_LOTATT01@,
TSK_TASKLISTS.LOTATT02 AS @HIDE_LOTATT02@,
TSK_TASKLISTS.LOTATT03 AS @HIDE_LOTATT03@,
TSK_TASKLISTS.LOTATT04 AS @HIDE_LOTATT04@,
TSK_TASKLISTS.LOTATT05 AS @HIDE_LOTATT05@,
TSK_TASKLISTS.LOTATT06 AS @HIDE_LOTATT06@,TSK_TASKLISTS.LOTATT07 AS @HIDE_LOTATT07@,TSK_TASKLISTS.LOTATT08 AS @HIDE_LOTATT08@,TSK_TASKLISTS.LOTATT09 AS @HIDE_LOTATT09@,TSK_TASKLISTS.LOTATT10 AS @HIDE_LOTATT10@,TSK_TASKLISTS.LOTATT11 AS @HIDE_LOTATT11@,TSK_TASKLISTS.LOTATT12 AS @HIDE_LOTATT12@,TSK_TASKLISTS.LOTATT13 AS @HIDE_LOTATT13@,TSK_TASKLISTS.LOTATT14 AS @HIDE_LOTATT14@,TSK_TASKLISTS.LOTATT15 AS @HIDE_LOTATT15@,TSK_TASKLISTS.LOTATT16 AS @HIDE_LOTATT16@,TSK_TASKLISTS.LOTATT17 AS @HIDE_LOTATT17@,TSK_TASKLISTS.LOTATT18 AS @HIDE_LOTATT18@,TSK_TASKLISTS.LOTATT19 AS @HIDE_LOTATT19@,TSK_TASKLISTS.LOTATT20 AS @HIDE_LOTATT20@,TSK_TASKLISTS.LOTATT21 AS @HIDE_LOTATT21@,TSK_TASKLISTS.LOTATT22 AS @HIDE_LOTATT22@,TSK_TASKLISTS.LOTATT23 AS @HIDE_LOTATT23@,TSK_TASKLISTS.LOTATT24 AS @HIDE_LOTATT24@,
DOC_ORDER_HEADER.ORDERTYPE AS @HIDE_ORDERTYPE_1@,
'SO' AS @HIDE_DOCTYPE_1@,
DOC_ORDER_HEADER.ERPCANCELFLAG,
DOC_ORDER_HEADER.RELEASESTATUS,
BAS_SKU.OUTBOUNDSERIALNOQTYCONTROL,
BAS_SKU.SCANWHENCASEPICKING,
BAS_SKU.SCANWHENPIECEPICKING AS @HIDE_SCANWHENPIECEPICKING@,
BAS_SKU.ALTERNATE_SKU1 AS @LBL_DESCR3_13@,
BAS_SKU.RESERVEDFIELD01 AS @LBL_DESCR4_13@,
BAS_SKU.ALTERNATE_SKU4,
BAS_PACKAGE.PACKDESCR AS @WXT_PACKID_6@,
BAS_SKU.MEDICINESPECICALCONTROL AS @HIDE_MEDICINESPECICALCONTROL@,
BAS_LOCATION.VALIDATIONCODE,
DOC_ORDER_HEADER.SERIALNOCATCH AS @HIDE_SERIALNOCATCH_ORDER@,
BAS_SKU.PICKBYWEIGHT AS @HIDE_PICKBYWEIGHT@,
BAS_SKU.SERIALNOCATCH AS @HIDE_SERIALNOCATCH_SKU@,
PARAM_TABLE.SKU_DESCRIPTION_CONTENT AS @WXT_SKUNAME_3@,
BAS_PACKAGE_DETAILS.UOMDESCR AS @HIDE_UOMDESCR@,
'' AS UDF1,'' AS UDF2,'' AS UDF3,'' AS UDF4 
,BAS_LOCATION.VALIDATIONCODE AS @HIDE_VALIDATIONCODE_1@
,CONCAT(BAS_LOCATION.udf02, ' (', BAS_LOCATION.udf01 , ')') AS @WXT_FMLOCATION_SAP@
FROM TSK_TASKLISTS 
LEFT JOIN BAS_SKU ON  BAS_SKU.SKU=TSK_TASKLISTS.SKU AND BAS_SKU.CUSTOMERID=TSK_TASKLISTS.CUSTOMERID 

LEFT JOIN BAS_PACKAGE_DETAILS ON BAS_PACKAGE_DETAILS.PACKID=BAS_SKU.PACKID AND BAS_PACKAGE_DETAILS.PACKUOM=TSK_TASKLISTS.FMUOM AND BAS_PACKAGE_DETAILS.CUSTOMERID = TSK_TASKLISTS.CUSTOMERID 

LEFT JOIN BAS_LOCATION ON BAS_LOCATION.LOCATIONID=TSK_TASKLISTS.FMLOCATION 

LEFT JOIN BAS_PACKAGE ON  BAS_PACKAGE.PACKID=BAS_SKU.PACKID AND BAS_PACKAGE.CUSTOMERID = BAS_SKU.CUSTOMERID

 LEFT JOIN DOC_ORDER_HEADER ON DOC_ORDER_HEADER.ORDERNO=TSK_TASKLISTS.DOCNO
 
WHERE TSK_TASKLISTS.TASKTYPE='PK' AND TSK_TASKLISTS.TASKPROCESS<='10' AND (TSK_TASKLISTS.FMLOCATION='@HIDE_FMLOCATION_SWITCH#ALLOW_EMPTY#@')
AND (TSK_TASKLISTS.FMID='@HIDE_FMID_SWITCH#ALLOW_EMPTY#@')
AND (TSK_TASKLISTS.SKU='@HIDE_SKU_SWITCH#ALLOW_EMPTY#@') 
AND (TSK_TASKLISTS.DOCNO='@TXT_ORDERNO_1#ALLOW_EMPTY#@') AND 
(TSK_TASKLISTS.GROUPTASKID='@TXT_GROUPTASKID_1#ALLOW_EMPTY#@') AND (BAS_LOCATION.ZONEGROUP='@TXT_AREA_1#ALLOW_EMPTY#@') AND
(BAS_LOCATION.ZONEID='@TXT_ZONE_1#ALLOW_EMPTY#@') AND (BAS_LOCATION.LOCGROUP1='@TXT_LOCGROUP1_1#ALLOW_EMPTY#@') AND (BAS_LOCATION.LOCGROUP2='@TXT_LOCGROUP2_1#ALLOW_EMPTY#@') AND (TSK_TASKLISTS.FMLOCATION>='@TXT_LOCATIONIDFM_1#ALLOW_EMPTY#@')  AND (TSK_TASKLISTS.FMLOCATION<='@TXT_LOCATIONIDTO_1#ALLOW_EMPTY#@') AND (TSK_TASKLISTS.HOLDWHO='#USERID#' OR TSK_TASKLISTS.HOLDWHO IS NULL) 
AND (TSK_TASKLISTS.CUSTOMERID = '#AUTHORIZE_CUSTOMER#')
AND (BAS_LOCATION.WORKINGAREA='#WORK_AREA#')
AND (BAS_LOCATION.ZONEGROUP='#AREAID#')
ORDER BY TSK_TASKLISTS.PRIORITY,PARAM_TABLE.PICK_TASK_SEQUENCE,TSK_TASKLISTS.TASKID LIMIT 0,99

