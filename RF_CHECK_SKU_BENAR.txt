  SELECT 
    DOC_ASN_HEADER.ASNTYPE,
    DOC_ASN_DETAILS.ASNNO AS @HIDE_ASNNO_2@,
    DOC_ASN_DETAILS.ASNLINENO AS @HIDE_ASNLINENO@,
    DOC_ASN_DETAILS.CUSTOMERID AS @HIDE_CUSTOMERID@,
    DOC_ASN_DETAILS.SKU,
    'OKE' AS @TXT_LAST_EXP@,
    BAS_SKU.OVERRCVPERCENTAGE AS @HIDE_OVERRCVPERCENTAGE_SKU_QTY@,
    IFNULL(
      DOC_ASN_DETAILS.OVERRCVPERCENTAGE,
      - 1
    ) AS @HIDE_OVERRCVPERCENTAGE_ASN_QTY@,
    BAS_SKU.OVERRECEIVING AS @HIDE_OVERRECEIVING_SKU@,
    BAS_CUSTOMER.OVERRECEIVING AS @HIDE_OVERRECEIVING_CUSTOMER@,
    DOC_ASN_DETAILS.SKUDESCR AS @HIDE_SKUNAME@,
    DOC_ASN_DETAILS.RECEIVINGLOCATION AS @TXT_LOC_2@,
DOC_ASN_DETAILS.RECEIVINGLOCATION AS @HIDE_RECLOC@,
    DOC_ASN_DETAILS.LINESTATUS,
    BAS_SKU.FIRSTINBOUNDDATE AS @HIDE_FIRSTINBOUNDDATE@,
    BAS_SKU.COPYPACKIDTOLOTATT12,
    DOC_ASN_DETAILS.PRODUCTSTATUS,
    DOC_ASN_DETAILS.REJECTEDQTY_EACH AS @TXT_JSQTY_3@,
    DOC_ASN_DETAILS.PACKID AS @WXT_PACKID_2@,
    DOC_ASN_DETAILS.PACKUOM AS @WXT_UOM_2@,
    VIEW_UOM_1.UOMDESCR,
    VIEW_UOM_1.UOMDESCR AS UOMNAMEINASNDETAIL,
    DOC_ASN_DETAILS.EXPECTEDQTY AS @WXT_TQTY_2@,
    DOC_ASN_DETAILS.RECEIVEDQTY AS @WXT_RQTY_2@, 
    DOC_ASN_DETAILS.HOLDREJECTCODE AS @SEL_DJDM_2@,
    DOC_ASN_DETAILS.EXPECTEDQTY_EACH,
    DOC_ASN_DETAILS.RECEIVEDQTY_EACH,
    BAS_SKU.PACKID AS DEFAULTPACKID,
    BAS_SKU.DEFAULTRECEIVINGUOM AS DEFAULTRECEIVINGUOM,
    BAS_SKU.SKUDESCR1 AS SKUDESCRC,
    BAS_SKU.SKUDESCR2 AS SKUDESCRE,
    BAS_SKU.MEDICINESPECICALCONTROL,
    VIEW_UOM_2.UOMDESCR AS DEFAULTRECEIVINGUOM_NAME,
    DOC_ASN_DETAILS.TOTALGROSSWEIGHT AS @HIDE_TOTALGROSSWEIGHT@,
    DOC_ASN_DETAILS.TOTALPRICE AS @HIDE_TOTALPRICE@,
    DOC_ASN_DETAILS.TOTALCUBIC AS @HIDE_TOTALCUBIC@,
    DOC_ASN_DETAILS.TOTALNETWEIGHT AS @HIDE_TOTALNETWEIGHT@,
    DOC_ASN_DETAILS.LOTATT01 AS @HIDE_LOT1@,
    DOC_ASN_DETAILS.LOTATT02 AS @HIDE_LOT2@,
    DOC_ASN_DETAILS.LOTATT03 AS @HIDE_LOT3@,
    DOC_ASN_DETAILS.LOTATT04 AS @HIDE_LOT4@,
    DOC_ASN_DETAILS.LOTATT05 AS @HIDE_LOT5@,
    DOC_ASN_DETAILS.LOTATT06 AS @HIDE_LOT6@,
    DOC_ASN_DETAILS.LOTATT07 AS @HIDE_LOT7@,
    DOC_ASN_DETAILS.LOTATT08 AS @HIDE_LOT8@,
    DOC_ASN_DETAILS.LOTATT09 AS @HIDE_LOT9@,
    DOC_ASN_DETAILS.LOTATT10 AS @HIDE_LOT10@,
    DOC_ASN_DETAILS.LOTATT11 AS @HIDE_LOT11@,
    DOC_ASN_DETAILS.LOTATT12 AS @HIDE_LOT12@,
    DOC_ASN_DETAILS.LOTATT13 AS @HIDE_LOT13@,
    DOC_ASN_DETAILS.LOTATT14 AS @HIDE_LOT14@,
    DOC_ASN_DETAILS.LOTATT15 AS @HIDE_LOT15@,
    DOC_ASN_DETAILS.LOTATT16 AS @HIDE_LOT16@,
    DOC_ASN_DETAILS.LOTATT17 AS @HIDE_LOT17@,
    DOC_ASN_DETAILS.LOTATT18 AS @HIDE_LOT18@,
    DOC_ASN_DETAILS.LOTATT19 AS @HIDE_LOT19@,
    DOC_ASN_DETAILS.LOTATT20 AS @HIDE_LOT20@,
    DOC_ASN_DETAILS.LOTATT21 AS @HIDE_LOT21@,
    DOC_ASN_DETAILS.LOTATT22 AS @HIDE_LOT22@,
    DOC_ASN_DETAILS.LOTATT23 AS @HIDE_LOT23@,
    DOC_ASN_DETAILS.LOTATT24 AS @HIDE_LOT24@,
    DOC_ASN_DETAILS.LOTATT01 AS LOTATT01_NAME,
    DOC_ASN_DETAILS.LOTATT02 AS LOTATT02_NAME,
    DOC_ASN_DETAILS.RECEIVEDTIME AS @HIDE_RECEIVETIME@,
    DOC_ASN_DETAILS.LOTATT04 AS LOTATT04_NAME,
    DOC_ASN_DETAILS.LOTATT05 AS LOTATT05_NAME,
    DOC_ASN_DETAILS.LOTATT06 AS LOTATT06_NAME,
    DOC_ASN_DETAILS.LOTATT07 AS LOTATT07_NAME,
    DOC_ASN_DETAILS.LOTATT08 AS LOTATT08_NAME,
    DOC_ASN_DETAILS.LOTATT09 AS LOTATT09_NAME,
    DOC_ASN_DETAILS.LOTATT10 AS LOTATT10_NAME,
    DOC_ASN_DETAILS.LOTATT11 AS LOTATT11_NAME,
    DOC_ASN_DETAILS.LOTATT12 AS LOTATT12_NAME,
    '' AS UDF1,
    '' AS UDF2,
    BAS_SKU.SKU AS UDF3,
    DOC_ASN_DETAILS.PLANTOLOC,
    BAS_SKU.RESERVEDFIELD01,
    BAS_SKU.RESERVEDFIELD02,
    BAS_SKU.ALTERNATE_SKU1,
    BAS_SKU.ALTERNATE_SKU2,
    BAS_SKU.ALTERNATE_SKU3,
    BAS_SKU.ALTERNATE_SKU4,
    BAS_SKU.ALTERNATE_SKU5,
    BAS_SKU.CUBE AS CUBIC,
    concat_ws('x',BAS_PACKAGE.PALLETTI,BAS_PACKAGE.PALLETHI) AS @WXT_TIHI_2@,
    BAS_SKU.GROSSWEIGHT,
    BAS_SKU.NETWEIGHT,
    BAS_SKU.PRICE,
    BAS_SKU.NOTETEXT AS NOTES,
    BAS_CUSTOMER.ASNREF1TOLOT4,
    BAS_CUSTOMER.ASNREF2TOLOT5,
    BAS_CUSTOMER.ASNREF3TOLOT6,
    BAS_CUSTOMER.ASNREF4TOLOT7,
    BAS_CUSTOMER.ASNREF5TOLOT8,
    DOC_ASN_HEADER.ASNREFERENCE1,
    DOC_ASN_HEADER.ASNREFERENCE2,
    DOC_ASN_HEADER.ASNREFERENCE3,
    DOC_ASN_HEADER.ASNREFERENCE4,
    DOC_ASN_HEADER.ASNREFERENCE5,
BAS_SKU.SCANWHENRECEIVE AS @HIDE_SCANWHENRECEIVE@,
BAS_SKU.SERIALNOCATCH AS @HIDE_SERIALNOCATCH_SKU@,
DOC_ASN_HEADER.SERIALNOCATCH AS @HIDE_SERIALNOCATCH_HEADER@,
    DOC_ASN_DETAILS.PRERECEIVEDQTY_EACH,
    BAS_SKU.INBOUNDSERIALNOQTYCONTROL AS @HIDE_INBOUNDSERIALNOQTYCONTROL@,
    BAS_SKU.SHELFLIFEFLAG AS @HIDE_SHELFLIFEFLAG_2@,
    BAS_SKU.SHELFLIFETYPE AS @HIDE_SHELFLIFETYPE_2@,
BAS_SKU.SHELFLIFE AS @HIDE_SHELFLIFE_2@,
    BAS_SKU.OUTBOUNDLIFEDAYS AS @HIDE_OUTBOUNDLIFEDAYS_2@,
    BAS_SKU.INBOUNDLIFEDAYS AS @HIDE_INBOUNDLIFEDAYS_2@,
BAS_SKU.SHELFLIFEUOM AS @HIDE_SHELFLIFEUOM_2@,
    '' AS PACKINGBOX,
    '' AS PACKINGBOX_DESCRC,
    '' AS PACKINGBOX_DESCRE,
DOC_ASN_DETAILS.EXPECTEDQTY_EACH AS @HIDE_EXPECTEDQTY_EACH@,
    DOC_ASN_DETAILS.RECEIVEDQTY_EACH AS @HIDE_RECEIVEDQTY_EACH@
  FROM
    DOC_ASN_DETAILS 
    LEFT JOIN DOC_ASN_HEADER 
      ON DOC_ASN_HEADER.ASNNO = DOC_ASN_DETAILS.ASNNO 
    LEFT JOIN BAS_SKU 
      ON DOC_ASN_DETAILS.CUSTOMERID = BAS_SKU.CUSTOMERID 
      AND DOC_ASN_DETAILS.SKU = BAS_SKU.SKU 
    LEFT JOIN BAS_CUSTOMER 
      ON DOC_ASN_DETAILS.CUSTOMERID = BAS_CUSTOMER.CUSTOMERID 
      AND BAS_CUSTOMER.CUSTOMERTYPE = 'OW' 
    LEFT JOIN BAS_PACKAGE 
      ON DOC_ASN_DETAILS.CUSTOMERID = BAS_PACKAGE.CUSTOMERID 
      AND DOC_ASN_DETAILS.PACKID = BAS_PACKAGE.PACKID 
    LEFT JOIN BAS_PACKAGE_DETAILS VIEW_UOM_1 
      ON DOC_ASN_DETAILS.CUSTOMERID = VIEW_UOM_1.CUSTOMERID 
      AND DOC_ASN_DETAILS.PACKUOM = VIEW_UOM_1.PACKUOM 
      AND DOC_ASN_DETAILS.PACKID = VIEW_UOM_1.PACKID 
    LEFT JOIN BAS_PACKAGE_DETAILS VIEW_UOM_2 
      ON BAS_SKU.CUSTOMERID = VIEW_UOM_2.CUSTOMERID 
      AND BAS_SKU.DEFAULTRECEIVINGUOM = VIEW_UOM_2.PACKUOM 
      AND BAS_SKU.PACKID = VIEW_UOM_2.PACKID 
  WHERE DOC_ASN_DETAILS.ASNNO = '@TXT_ASNNO_1@'
  AND DOC_ASN_DETAILS.SKU = '@TXT_SKU_2@' 
  AND (DOC_ASN_DETAILS.ASNLINENO = '@HIDE_ASNLINENOBYQUERY_2#ALLOW_EMPTY#@')
  AND DOC_ASN_DETAILS.LINESTATUS<'90'
    AND (DOC_ASN_HEADER.CUSTOMERID = '#AUTHORIZE_CUSTOMER#')
order by DOC_ASN_DETAILS.linestatus 
limit 0,1